<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ruby语言 | fsword's blog]]></title>
  <link href="http://fsword.github.com/blog/categories/rubyyu-yan/atom.xml" rel="self"/>
  <link href="http://fsword.github.com/"/>
  <updated>2013-04-20T16:37:02+08:00</updated>
  <id>http://fsword.github.com/</id>
  <author>
    <name><![CDATA[fsword]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ruby为什么会有eigenclass]]></title>
    <link href="http://fsword.github.com/blog/2013/04/02/rubywei-shi-yao-hui-you-eigenclass/"/>
    <updated>2013-04-02T21:00:00+08:00</updated>
    <id>http://fsword.github.com/blog/2013/04/02/rubywei-shi-yao-hui-you-eigenclass</id>
    <content type="html"><![CDATA[<p>论坛上有人问了一个问题——<a href="http://ruby-china.org/topics/9586">在ruby语言中，为什么会有eigenclass这种设计？</a>后面有各种回答，有的还相当不错，比如<a href="http://ruby-china.org/topics/9586#reply10">这个</a>。我也想写一篇凑数，也是帮自己理清思路。</p>

<p>要回答好这个问题很不容易，我们也许可以从零开始，重新发明一遍ruby的对象模型看看？</p>

<p>ruby是面向对象语言，所谓对象和类一般会是这样——<br/>
<img src="./images/my_thing.png" alt="" /><br/>
很简单，是不是？别急，我们要给对象（object）和类（class）加上一些要求——<br/>
1. 所有的对象都有自己所属的类<br/>
2. 所有的类都有父类，除了顶级父类（BasicObject）<br/>
3. 类本身也是对象<br/>
4. 最后——麻烦来了，根据(3)，所有的类都是对象，再根据(1)，这些<strong>类</strong>(作为对象)<strong>都要有自己所属的类</strong></p>

<p>文字很枯燥，我们用代码来演示<br/>
<code>ruby
$ irb
2.1.0dev :001 &gt; 1.class
 =&gt; Fixnum
2.1.0dev :002 &gt; Fixnum.superclass
 =&gt; Integer
2.1.0dev :003 &gt; Fixnum.superclass.superclass
 =&gt; Numeric
2.1.0dev :004 &gt; Fixnum.superclass.superclass.superclass
 =&gt; Object
2.1.0dev :005 &gt; Fixnum.superclass.superclass.superclass.superclass
 =&gt; BasicObject
2.1.0dev :006 &gt; Fixnum.superclass.superclass.superclass.superclass.superclass
 =&gt; nil
2.1.0dev :007 &gt; Fixnum.is_a? Object
 =&gt; true
2.1.0dev :008 &gt; Fixnum.class
 =&gt; Class
2.1.0dev :009 &gt; Object.class
 =&gt; Class
2.1.0dev :010 &gt; Class.is_a? Object
 =&gt; true
</code>
我们把module也加上，画成一张图就是这样——<br/>
<img src="./images/object_class.png" alt="" /></p>

<p>现在让我们考虑一下，这样的对象和类的模型应该如何实现......</p>
]]></content>
  </entry>
  
</feed>
